# NEWTUBE Production Environment Configuration
# Copy this file to .env and fill in the actual values

# ====================
# AWS Configuration
# ====================
AWS_REGION=us-east-1
AWS_ACCOUNT_ID=123456789012

# ====================
# Environment Settings
# ====================
ENVIRONMENT=prod
NODE_ENV=production

# ====================
# Database Configuration
# ====================
DB_INSTANCE_CLASS=db.r6g.large
DB_ALLOCATED_STORAGE=100
DB_MAX_ALLOCATED_STORAGE=1000

# ====================
# Application Images
# ====================
FRONTEND_IMAGE=newtube/frontend:v1.0.0
BACKEND_IMAGE=newtube/backend:v1.0.0

# ====================
# Security & Authentication
# ====================
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secure-jwt-secret-here

# Clerk authentication
CLERK_SECRET_KEY=sk_live_your-clerk-secret-key

# ====================
# External API Keys
# ====================
# OpenAI for embeddings and AI features
OPENAI_API_KEY=sk-your-openai-api-key

# YouTube Data API v3
YOUTUBE_API_KEY=your-youtube-api-key

# Vimeo API (optional)
VIMEO_CLIENT_ID=your-vimeo-client-id
VIMEO_CLIENT_SECRET=your-vimeo-client-secret

# ====================
# Monitoring & Alerting
# ====================
# Email for critical alerts
NOTIFICATION_EMAIL=alerts@your-domain.com

# Slack webhook for team notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Grafana Cloud credentials
GRAFANA_API_KEY=your-grafana-api-key
GRAFANA_STACK_ID=your-grafana-stack-id
GRAFANA_PROMETHEUS_USER_ID=your-prometheus-user-id
GRAFANA_LOKI_USER_ID=your-loki-user-id
GRAFANA_TEMPO_USER_ID=your-tempo-user-id

# ====================
# Application Configuration
# ====================
# Domain configuration
DOMAIN_NAME=your-domain.com
SUBDOMAIN=app

# CDN and assets
CDN_URL=https://cdn.your-domain.com

# ====================
# Scaling Configuration
# ====================
# Frontend scaling
FRONTEND_MIN_CAPACITY=2
FRONTEND_MAX_CAPACITY=20
FRONTEND_CPU=512
FRONTEND_MEMORY=1024

# Backend scaling
BACKEND_MIN_CAPACITY=2
BACKEND_MAX_CAPACITY=20
BACKEND_CPU=1024
BACKEND_MEMORY=2048

# ====================
# Terraform State Configuration
# ====================
TERRAFORM_STATE_BUCKET=newtube-terraform-state-prod
TERRAFORM_LOCKS_TABLE=newtube-terraform-locks-prod

# ====================
# Backup Configuration
# ====================
BACKUP_RETENTION_PERIOD=30
BACKUP_WINDOW=03:00-04:00
MAINTENANCE_WINDOW=sun:04:00-sun:05:00

# ====================
# Feature Flags
# ====================
ENABLE_ANALYTICS=true
ENABLE_AI_FEATURES=true
ENABLE_VOICE_CONTROL=true
ENABLE_OFFLINE_MODE=true

# ====================
# Performance Configuration
# ====================
# Cache configuration
REDIS_CLUSTER_MODE=true
REDIS_NODE_TYPE=cache.r6g.large

# Vector database
VECTOR_DB_INSTANCE_TYPE=r6g.xlarge
VECTOR_DB_REPLICA_COUNT=2

# ====================
# Compliance & Security
# ====================
# Data encryption
ENCRYPTION_AT_REST=true
ENCRYPTION_IN_TRANSIT=true

# Compliance settings
GDPR_COMPLIANCE=true
CCPA_COMPLIANCE=true
SOC2_COMPLIANCE=true

# Security headers
ENABLE_HSTS=true
ENABLE_CSP=true
ENABLE_CSRF_PROTECTION=true

# ====================
# Logging Configuration
# ====================
LOG_LEVEL=info
ENABLE_STRUCTURED_LOGGING=true
LOG_RETENTION_DAYS=365

# ====================
# Rate Limiting
# ====================
API_RATE_LIMIT=1000
API_BURST_LIMIT=2000
SEARCH_RATE_LIMIT=100

# ====================
# Content Delivery
# ====================
# YouTube API quotas and limits
YOUTUBE_QUOTA_LIMIT=10000
YOUTUBE_REQUESTS_PER_SECOND=100

# Vimeo API limits
VIMEO_RATE_LIMIT=1000

# ====================
# AI/ML Configuration
# ====================
# Embedding configuration
EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_DIMENSIONS=1536
EMBEDDING_BATCH_SIZE=100

# Vector similarity thresholds
SIMILARITY_THRESHOLD=0.6
RECOMMENDATION_COUNT=20

# Comment filtering
TOXICITY_THRESHOLD=0.8
RELEVANCE_THRESHOLD=0.7

# ====================
# Development & Testing
# ====================
# Enable debug features in production? (usually false)
ENABLE_DEBUG_FEATURES=false
ENABLE_PERFORMANCE_PROFILING=false

# Testing endpoints (disable in production)
ENABLE_TEST_ENDPOINTS=false